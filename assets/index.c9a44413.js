var w=Object.defineProperty,I=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var x=(e,t,r)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))q.call(t,r)&&x(e,r,t[r]);if(S)for(var r of S(t))O.call(t,r)&&x(e,r,t[r]);return e},y=(e,t)=>I(e,N(t));import{j as _,r as i,c as V}from"./vendor.bd3ea4cc.js";const $=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}};$();const o=_.exports.jsx,h=_.exports.jsxs,D=_.exports.Fragment,A=({onGameReset:e})=>o("section",{children:o("button",{onClick:e,children:"Reset"})});var K="/memory-card-game/assets/question-mark.4ae6a693.png";function b(e){return e.length?e.map(t=>typeof t=="string"?t.trim():Object.entries(t).map(([r,c])=>c?r.trim():null)).flat().filter(Boolean).join(" "):""}const P="_cardContainer_1gvk4_2",Q="_disabled_1gvk4_10",U="_cardInner_1gvk4_15",X="_cardFlip_1gvk4_22",z="_cardFront_1gvk4_25",H="_cardBack_1gvk4_26";var u={cardContainer:P,disabled:Q,cardInner:U,cardFlip:X,cardFront:z,cardBack:H};const J=({card:e,isFlipped:t,isDisabled:r,onClick:c})=>{const s=()=>{r||c(e)};return o("div",{className:b([u.cardContainer,{[u.disabled]:r}]),onClick:s,children:h("div",{className:b([u.cardInner,{[u.cardFlip]:!t}]),children:[o("div",{className:u.cardFront,children:o("img",{src:e.path,alt:e.name})}),o("div",{className:u.cardBack,children:o("img",{src:K,alt:"Question mark image"})})]})})};var g=(e=>(e[e.SET_MOVES=0]="SET_MOVES",e[e.SET_BEST_TIME=1]="SET_BEST_TIME",e[e.RESET=2]="RESET",e))(g||{});const C={moves:0,bestTime:0},W=(e,t)=>{switch(t.type){case 0:return y(p({},e),{moves:t.payload});case 1:return y(p({},e),{bestTime:t.payload});case 2:return C;default:throw new Error(`Unknown action type: ${t.type}`)}},Z=()=>{const[e,t]=i.exports.useReducer(W,C);return{state:e,dispatch:t}};var Y="/memory-card-game/assets/angular-logo.5e3aa557.png",ee="/memory-card-game/assets/eslint-logo.e1375920.png",te="/memory-card-game/assets/gatsby-logo.49ece8b2.png",re="/memory-card-game/assets/github-logo.3d568164.png",se="/memory-card-game/assets/js-logo.13c26830.png",oe="/memory-card-game/assets/react-logo.23559734.png",ne="/memory-card-game/assets/typescript-logo.a010798d.png",ae="/memory-card-game/assets/vue-logo.31986a34.png";function ce(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),c=e[t];e[t]=e[r],e[r]=c}return e}const E=[{path:oe,name:"react-logo"},{path:Y,name:"angular-logo"},{path:ee,name:"eslint-logo"},{path:se,name:"js-logo"},{path:ne,name:"typescript-logo"},{path:ae,name:"vue-logo"},{path:te,name:"gatsby-logo"},{path:re,name:"github-logo"}],k=()=>{const e=[...E,...E].map((t,r)=>p({id:t.name+r},t));return ce(e)},F={state:C,cards:k(),setCards:e=>null,setMoves:e=>null,setBestTime:e=>null,resetGame:()=>null},T=i.exports.createContext(F),ie=({children:e})=>{const{state:t,dispatch:r}=Z(),[c,s]=i.exports.useState(()=>F.cards),v={state:t,cards:c,setCards:s,setMoves:m=>{r({type:g.SET_MOVES,payload:m})},setBestTime:m=>{r({type:g.SET_BEST_TIME,payload:m})},resetGame:()=>{r({type:g.RESET}),s(()=>k())}};return o(T.Provider,{value:v,children:e})},j=()=>{const e=i.exports.useContext(T);if(e===void 0)throw new Error("GameContext must be within GameProvider");return e},le="_resultsSection_1jq64_2";var de={resultsSection:le};const me=()=>{const{state:e}=j();return o("section",{className:de.resultsSection,children:h("p",{children:["Moves: ",e.moves]})})},ue="_boardContainer_jyf0r_2";var pe={boardContainer:ue};const M=2,ge=()=>{const{cards:e,state:t,setMoves:r,resetGame:c}=j(),[s,n]=i.exports.useState([]),[l,f]=i.exports.useState([]);i.exports.useEffect(()=>{if(s.length<M)return;const[a,d]=s;a.name===d.name&&f(R=>[...R,a,d]);const B=setTimeout(()=>{n([])},500);return()=>{clearTimeout(B)}},[s]),i.exports.useEffect(()=>{if(l.length!==e.length)return;const a=setTimeout(()=>{alert("You did it!")},500);return()=>{clearTimeout(a)}},[e,l]);const v=s.length>=M,m=a=>s.some(({id:d})=>d===a)||l.some(({id:d})=>d===a),G=a=>{s.length>=1&&r(t.moves+1),n(d=>[...d,a])},L=()=>{n([]),f([]),c()};return h(D,{children:[o(me,{}),o("section",{className:pe.boardContainer,children:e.map(a=>o(J,{card:a,isFlipped:m(a.id),isDisabled:v||m(a.id),onClick:G},a.id))}),o(A,{onGameReset:L})]})},he=()=>h("main",{children:[o("h1",{children:"Memory Card Game"}),o(ge,{})]});function fe(){return o(i.exports.StrictMode,{children:o(ie,{children:o(he,{})})})}const ve=document.getElementById("app"),ye=V(ve);ye.render(o(fe,{}));
